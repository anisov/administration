
# Архитектура сетей

## Задание

**Разворачиваем сетевую лабораторию.**

### Дано
https://github.com/erlong15/otus-linux/tree/network
(ветка network)

Vagrantfile с начальным построением сети
* inetRouter
* centralRouter
* centralServer

тестировалось на virtualbox

### Планируемая архитектура
построить следующую архитектуру

Сеть office1
* 192.168.2.0/26 - dev
* 192.168.2.64/26 - test servers
* 192.168.2.128/26 - managers
* 192.168.2.192/26 - office hardware

Сеть office2
* 192.168.1.0/25 - dev
* 192.168.1.128/26 - test servers
* 192.168.1.192/26 - office hardware


Сеть central
* 192.168.0.0/28 - directors
* 192.168.0.32/28 - office hardware
* 192.168.0.64/26 - wifi

```
Office1 ---\
-----> Central --IRouter --> internet
Office2----/
```
Итого должны получится следующие сервера
* inetRouter
* centralRouter
* office1Router
* office2Router
* centralServer
* office1Server
* office2Server

### Теоретическая часть
* Найти свободные подсети
* Посчитать сколько узлов в каждой подсети, включая свободные
* Указать broadcast адрес для каждой подсети
* Проверить нет ли ошибок при разбиении

### Практическая часть
* Соединить офисы в сеть согласно схеме и настроить роутинг
* Все сервера и роутеры должны ходить в инет черз inetRouter
* Все сервера должны видеть друг друга
* У всех новых серверов отключить дефолт на нат (eth0), который вагрант поднимает для связи
* При нехватке сетевых интервейсов добавить по несколько адресов на интерфейс

## Решение

## Теоретическая часть

### Сеть office1

1.  192.168.2.0/26 - dev:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.2.63/26
    * Mask: 255.255.255.192

2. 192.168.2.64/26 - test servers:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.2.127
    * Mask: 255.255.255.192

3. 192.168.2.128/26 - managers:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.2.191
    * Mask: 255.255.255.192

4. 192.168.2.192/26 - office hardware:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.2.254
    * Mask: 255.255.255.192

### Сеть office2

1. 192.168.1.0/25 - dev:
    * Количество доступных адресов: 126
    * Broadcast Address: 192.168.1.127
    * Mask: 255.255.255.128

2. 192.168.1.128/26 - test servers:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.1.191
    * Mask: 255.255.255.192

3. 192.168.1.192/26 - office hardware:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.1.254
    * Mask: 255.255.255.192

### Сеть Central

1. 192.168.0.0/28 - director:
    * Количество доступных адресов: 14
    * Broadcast Address: 192.168.0.15
    * Mask: 255.255.255.240

2. 192.168.0.32/28 - test servers:
    * Количество доступных адресов: 14
    * Broadcast Address: 192.168.1.47
    * Mask: 255.255.255.240

3. 192.168.0.64/26 - office hardware:
    * Количество доступных адресов: 62
    * Broadcast Address: 192.168.0.127
    * Mask: 255.255.255.192

4. Сеть Central имеет свободные подсети:
    * 192.168.0.16/28
    * 192.168.0.48/28
    * 192.168.0.128/25

### Проверить нет ли ошибок при разбиении
* Ошибок при разбиении не обнаружено.

## Практическая часть
* Выполнена в Vagrantfile'e

## Запуск

* `vagrant up`

**ОС**: CentOS
