# OSPF

## Задание

- Поднять три виртуалки
- Объединить их разными vlan
1. Поднять OSPF между машинами на базе Quagga
2. Изобразить асимметричный роутинг
3. Сделать один из линков "дорогим", но что бы при этом роутинг был симметричным


## Решение

### Ассиметричная маршрутизация

Ассимитрическая маршрутизация настривается при развёртывание:
```
interface eth2
 description route1-route3
 ip ospf cost 21
!
```
В результате трафик в сеть которая расположена в маршрутизаторе route3(172.30.0.1) стал идти через маршрутизатор router2, а не через router1:  

Проверка:
```
[vagrant@route1 ~]$ traceroute 172.30.0.1
traceroute to 172.30.0.1 (172.30.0.1), 30 hops max, 60 byte packets
1  10.10.0.2 (10.10.0.2)  0.624 ms  0.279 ms  0.420 ms
2  172.30.0.1 (172.30.0.1)  0.920 ms  0.803 ms  0.575 ms
```
### Исправление ассиметричного роутинга:

Для исправление асимметричного роутинга, необходимо поднять стоимость линка между маршрутизаторами route1-router2, в таком случае трафик пойдет по кратчайшему пути.
```
interface eth1
 description route1-route2
 ip ospf cost 22
!
```
Проверка:
```
[root@route1 ~]# traceroute 172.30.0.1
traceroute to 172.30.0.1 (172.30.0.1), 30 hops max, 60 byte packets
 1  172.30.0.1 (172.30.0.1)  0.607 ms  0.321 ms  0.407 ms
```
## Запуск 
* `vagrant up`

**ОС**: CentOS